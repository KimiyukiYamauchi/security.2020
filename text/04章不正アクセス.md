# 4章　不正アクセス
## 4.1 犯罪との関係
### 4.1.1 犯罪との関係

* 金銭の不正入手
	* 不当に入手した情報 => 換金
	* 詐欺、恐喝
* 政治的目的
	* 情報収集
	* 戦争資金調達
* 愉快犯、模倣犯、その他
	* 自分のスキルや主張を誇示
* インターネットの普及 => 知識を持たない利用者 => 詐欺などに巻き込まれる可能性
* 言いがかりを根拠がないと判断できる程度の知識は必要


### 4.1.2 踏み台

* ネットワークでは最後に経由した端末のIPアドレスしかわからない
* 記録の残らない端末を踏み台とすることで発信源を隠すことができる
* 攻撃者はその侵入のための通信がどこから発せられたものかを分かりにくくするために踏み台を利用
* 侵入しやすいコンピュータがターゲット
* 踏み台となる端末に対し、不正アクセスを試みる
	* 不正アクセス手法
		* アカウントの不正利用
		* セキュリティホールの悪用
		* トロイの木馬

## 4.2 情報収集
### 4.2.1 公開情報からの情報収集

* 検索、SNS、公開情報を利用したなりすまし
* ホームページのソースコード
	* 問い合わせページの暗号化
	* デザインやHTMLソースの構造上の問題
	* アクセス制限が適切でない
	* 検索エンジンにより発見
* サーバメッセージ
	* サーバアプリケーション名
	* OS名
	* バージョン番号
* 内線表
	* ソーシャルエンジニアリングに分類される手法
* 名刺
	* なりすまし、スパムメール

### 4.2.2 偵察行為

* 偵察行為 => 不正侵入

* ネットワークに存在する脆弱な端末の洗い出し
	* 脆弱性を持つ可能性の高い端末を列挙

* 端末に存在する脆弱なサービスの洗い出し
	* その端末に侵入するために利用する脆弱性、サービスを探し出す

* ポートスキャン
	* 端末の全ポートに信号を送り、その応答から稼働中のサービスを洗い出す
	* [nmap](http://itpro.nikkeibp.co.jp/atcl/column/14/230520/072800001/)
* 脆弱性スキャン
	* ツールを使用しOSやアプリケーションの名前とバージョン、プログラムの不具合の有無を調べる
	* [ウェブサイトの攻撃兆候検出ツール iLogScanner](http://www.ipa.go.jp/security/vuln/iLogScanner/index.html)
	* [Webサイトをセキュリティチェックする方法](https://securitynavi.jp/5020)

* 偵察行為の検知
* サーバは自分の情報は教えない!

## 4.3 不正侵入

### 4.3.1 不正アクセス手法

許可されていないユーザや端末がリソースにアクセスする

* アカウントの不正利用
	* ソーシャルエンジニアリング
	* パスワードの重要性に対する意識が低い
* セキュリティホールの悪用
	* バッファオーバーフロー
* トロイの木馬
	* バックドア、スパイウェア、ボット
	* 利用者をだまして不正プログラムを実行・インストールさせる

### 4.3.2 パスワードクラック

- パスワード
	- 実際のパスフェーズ => 設定した本人
	- パスワードファイル => 暗号化(ハッシュ化)されたパスフェーズ

* 総当り攻撃(brute force attack) 
	* 文字列をプログラムで生成しパスワードファイル内のハッシュ値と照合する
* 辞書攻撃(dictionary attack) 
	* 照合したいパスワードをリスト化した辞書ファイルを用意
* ソーシャルエンジニアリング(social engineering)
	* ごみ箱あさり(scavenging)
		* ゴミから書類やメディアなどを盗み出す
	* ショルダーハッキング(shoulder hacking)
		* モニタやキーボード入力を肩越しからのぞき見る
	* なりすまし
		* 管理者になりすまし => 利用者から情報を聞き出す
		* 新入社員、中途社員になりすまし => 意識の低い管理者から情報を聞き出す
		* 上司になりすまし怒鳴りつける => 相手を混乱させる
		* 振り込め詐欺などと同様の手法

### 4.3.3 サービス停止
<dl>
	<dt>DoS攻撃(Denial of Service attack)</dt>
	<dd>大量のパケットをサーバに送信し続けることで、TCP/IPのパケットのやりとりを阻害し、クライアントが要求するセッションが成り立たないようにする</dd>
	<dt>DDoS攻撃(Distributed Denial of Service attack)</dt>
	<dd><b>ボット</b>などの不正プログラムを複数のPCに侵入されておき、攻撃者の命令で一斉に攻撃対象にアクセスさせる</dd>
</dl>

### 4.3.4 盗聴

* 第三者によるネットワーク上の情報の傍受
* 盗聴で引き起こされる問題
	* 機密性が失われる
	* 認証情報の盗用で不正アクセス
* ネットワークにおける盗聴行為は論理的には防げない
	* 機密性の確保 => 暗号化
	* 機密情報を取り扱わない

### 4.3.5 改ざん

* 第三者によって情報(データ)が変更されてしまう
* 改ざんで引き起こされる問題
	* 完全性、真正性、責任追跡性、信頼性が失われる
		- 責任追跡性 => ログファイルの改ざん
		- 認証情報を改ざん => なりすまし
			- マン・イン・ザ・ミドル
		* ホームページの改ざん
* ネットワークにおける改ざん行為を完全に防ぐことは困難
	* 改ざんを防ぐ仕組み => 許可されたユーザだけが利用できる
		* 暗号化
		* 認証
	* 改ざんを検知する仕組み
		* 整合性のチェック
		* ハッシュ、公開鍵暗号方式

### 4.3.6 管理者権限の奪取

* 管理者権限を悪用する行為
* 悪用の手段
	* 管理者権限で実行されているプログラムを乗っ取る
	* 管理者のパスワードを不正に入手する
* 管理者権限
	* 管理者ユーザ(administrator, rootなど)は全ての操作が許可される
	* 管理者ユーザの権限を奪われるとあらゆる被害が起こりえる
* 盗聴やバックドアの作成などが容易に行える「rootkit」などのツールにより誰でも実行できる環境がある